<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>image</title>
  <style>
    #canvas {
      display: block;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <button onclick="drawImage('one')">one</button>
  <button onclick="drawImage('two')">two</button>
  <button onclick="drawImage('three')">three</button>
  <canvas id="canvas" width="800" height="800"></canvas>
</body>
<script>
  var canvas = document.querySelector('#canvas')
  var ctx = canvas.getContext('2d')
  // ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
  // sx sy sWidth sHeight是相对图片自身来说的 有一种裁剪效果
  // 而dx dy dWidth dHeight 是相对的canvas画布
  function drawImage (type) {
    var sx = 0, sy = 0, sWidth = 1300, sHeight = 1300
    var dx = 200, dy = 200, dWidth = 300, dHeight = 150
    var image = new Image()
    image.src = '../static/image/V6TWE6h8gyg.jpg'
    ctx.clearRect(0, 0, 800, 800)
    // 这里最好使用image onload事件 保证图片完全加载之后再去drawImage，否则可能会造成图片画不出来等bug
    image.onload = function () {
      switch (type) {
        case 'one':
          ctx.drawImage(image, dx, dy)
          break;
        case 'two':
          ctx.drawImage(image, dx, dy, dWidth, dHeight)
          break;
        case 'three':
          ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
          break;
      }
    }
  } 
</script>
</html>